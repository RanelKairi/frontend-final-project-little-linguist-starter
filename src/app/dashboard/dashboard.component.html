<div *ngIf="isLoading" class="loading-container">
  <mat-progress-spinner
    mode="indeterminate"
    color="primary"
    diameter="100"
    strokeWidth="5">
  </mat-progress-spinner>
  <h1>Dashboard is Loading Your Stats...</h1>
</div>

<div *ngIf="!isLoading">
  <div class="stats-grid">

    <div class="gamesPlayed">
    <mat-card class="dashboard-card">
      <mat-card-title>Games Played</mat-card-title>
      <mat-card-content>
        <h2>{{ gamesPlayed }}</h2>
      </mat-card-content>
    </mat-card>
  </div>

    <mat-card class="dashboard-card">
      <mat-card-title>Total Points</mat-card-title>
      <mat-card-content>
        <h2>{{ totalPoints }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Highest Average Score Game is</mat-card-title>

      <mat-card-content>
        <h1>{{ highestAvgScoreGame?.gameName }}</h1>
        <h3> With: <h2>{{highestAvgScore}}</h2> Points Per Game!</h3>
      </mat-card-content>

    </mat-card>
    <mat-card class="dashboard-card">
      <mat-card-title>Lowest Average Score Game</mat-card-title>
      <div *ngIf="!isLoading">
      <mat-card-content>
        <h1>{{ lowestAvgScoreGame?.gameName }}</h1>
        <h3> With: <h2>{{lowestAvgScore}}</h2> Points Per Game!</h3>
      </mat-card-content>
      </div>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Categories Learned</mat-card-title>
      <mat-card-content>
        <h2>{{ categoriesLearned }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Categories Not Learned</mat-card-title>
      <mat-card-content>
        <h2>{{ categoriesNotLearned }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Perfect Games</mat-card-title>
      <mat-card-content>
        <h2>{{ perfectGamesPercentage }}%</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Most Played Category</mat-card-title>
      <div *ngIf="mostPlayed">
      <mat-card-content>
        <h2>{{ mostPlayed.name }}</h2>
        <h3>With</h3> <h2>{{maxCount}}</h2> <h3>Times Playing This Category!</h3>
      </mat-card-content></div>
        <div *ngIf="!mostPlayed"><h2>You Didn't Play Yet!</h2>
        <button mat-raised-button routerLink='/choose-game'>Play Your First Game</button>
        </div>
      
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Categories Studied</mat-card-title>
      <mat-card-content>
        <h2>{{ categoriesStudiedPercentage }}%</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-title>Monthly Challenge</mat-card-title>
      <mat-card-content>
        <h2>{{ gamesThisMonth }} games played</h2>
        <p>{{ challengeMessage }}</p>
      </mat-card-content>
    </mat-card>
    
    <mat-card class="dashboard-card">
      <mat-card-title>Streak Days!</mat-card-title>
      <mat-card-content>
        <h2>{{ daysStreak }} days in a row</h2>
        <p>Keep the streak going! ðŸ’ª</p>
      </mat-card-content>
    </mat-card>

  </div>
 


</div>
